<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UPDATE ALIP AI</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #6c5ce7;
      --secondary: #a29bfe;
      --accent: #00cec9;
      --dark: #121212;
      --light: #f5f6fa;
      --success: #00b894;
      --danger: #d63031;
      --warning: #fdcb6e;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, var(--dark) 0%, #1a1a2e 100%);
      color: var(--light);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      position: relative;
      overflow: hidden;
    }
    
    .bg-animation {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }
    
    .bg-animation span {
      position: absolute;
      width: 20px;
      height: 20px;
      background: var(--primary);
      opacity: 0.1;
      border-radius: 50%;
      animation: float 15s linear infinite;
      bottom: -50px;
    }
    
    @keyframes float {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 0.1;
      }
      100% {
        transform: translateY(-100vh) rotate(720deg);
        opacity: 0;
      }
    }
    
    .container {
      width: 100%;
      max-width: 500px;
      margin: 0 auto;
      z-index: 1;
    }
    
    .tabs {
      display: flex;
      margin-bottom: 20px;
      background: rgba(25, 25, 35, 0.7);
      border-radius: 12px;
      overflow: hidden;
    }
    
    .tab {
      padding: 15px;
      flex: 1;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .tab.active {
      background: var(--primary);
      font-weight: bold;
    }
    
    .tab-content {
      display: none;
      animation: fadeIn 0.5s ease;
    }
    
    .tab-content.active {
      display: block;
    }
    
    .header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .logo {
      width: 80px;
      height: 80px;
      margin: 0 auto 15px;
      background: linear-gradient(145deg, var(--primary), var(--accent));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 30px;
      box-shadow: 0 0 20px rgba(108, 92, 231, 0.5);
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% {
        box-shadow: 0 0 20px rgba(108, 92, 231, 0.5);
      }
      50% {
        box-shadow: 0 0 30px rgba(108, 92, 231, 0.8);
      }
      100% {
        box-shadow: 0 0 20px rgba(108, 92, 231, 0.5);
      }
    }
    
    .header h1 {
      font-size: 24px;
      margin-bottom: 10px;
      background: linear-gradient(to right, var(--primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .header p {
      color: var(--secondary);
      font-size: 14px;
    }
    
    .box {
      background: rgba(25, 25, 35, 0.9);
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
      margin-bottom: 20px;
      backdrop-filter: blur(10px);
    }
    
    .input-group {
      margin-bottom: 20px;
      text-align: left;
    }
    
    .input-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--secondary);
    }
    
    .input-field {
      width: 100%;
      padding: 12px 16px;
      border-radius: 8px;
      border: 2px solid rgba(108, 92, 231, 0.3);
      background: rgba(18, 18, 26, 0.7);
      color: var(--light);
      font-size: 16px;
      transition: all 0.3s ease;
    }
    
    .input-field:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(108, 92, 231, 0.2);
    }
    
    .btn {
      width: 100%;
      padding: 14px;
      border: none;
      border-radius: 8px;
      background: linear-gradient(to right, var(--primary), var(--accent));
      color: white;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(108, 92, 231, 0.4);
    }
    
    .btn-success {
      background: linear-gradient(to right, var(--success), #00d8a7);
    }
    
    .btn-danger {
      background: linear-gradient(to right, var(--danger), #ff7675);
    }
    
    .download-link {
      display: block;
      margin-top: 20px;
      padding: 14px;
      border-radius: 8px;
      background: linear-gradient(to right, var(--success), #00d8a7);
      color: white;
      text-align: center;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(0, 184, 148, 0.4);
      animation: pulse 2s infinite;
    }
    
    .download-link:hover {
      transform: translateY(-2px);
      box-shadow: 0 7px 20px rgba(0, 184, 148, 0.5);
    }
    
    .api-keys-list {
      margin-top: 20px;
      background: rgba(18, 18, 26, 0.5);
      border-radius: 8px;
      overflow: hidden;
    }
    
    .api-key-item {
      padding: 12px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .api-key-item:last-child {
      border-bottom: none;
    }
    
    .key-info {
      flex: 1;
    }
    
    .key-value {
      font-family: monospace;
      font-size: 14px;
      margin-bottom: 5px;
    }
    
    .key-meta {
      font-size: 12px;
      color: var(--secondary);
    }
    
    .key-actions {
      display: flex;
      gap: 8px;
    }
    
    .key-btn {
      padding: 6px 10px;
      border: none;
      border-radius: 5px;
      background: var(--primary);
      color: white;
      cursor: pointer;
      font-size: 12px;
    }
    
    .footer {
      margin-top: 30px;
      text-align: center;
      color: var(--secondary);
      font-size: 14px;
    }
    
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 12px 20px;
      border-radius: 8px;
      background: var(--danger);
      color: white;
      box-shadow: 0 5px 15px rgba(214, 48, 49, 0.4);
      transform: translateX(100%);
      transition: transform 0.3s ease;
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .notification.success {
      background: var(--success);
    }
    
    .notification.show {
      transform: translateX(0);
    }
    
    .admin-only {
      display: none;
    }
    
    .admin-only.visible {
      display: block;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
  </style>
</head>
<body>
  <div class="bg-animation" id="bg-animation"></div>
  
  <div class="container">
    <div class="header">
      <div class="logo">
        <i class="fas fa-robot"></i>
      </div>
      <h1>UPDATE BOT ALIP AI</h1>
      <p>Download update terbaru</p>
    </div>
    
    <div class="tabs">
      <div class="tab active" data-tab="download">Download</div>
      <div class="tab" data-tab="admin">Admin Login</div>
    </div>
    
    <div class="tab-content active" id="download-tab">
      <div class="box">
        <div class="input-group">
          <label for="apikey"><i class="fas fa-key"></i> Masukkan API Key</label>
          <input type="password" id="apikey" class="input-field" placeholder="Masukkan kunci akses Anda" autocomplete="off">
        </div>
        
        <button class="btn" onclick="cekApiKey()">
          <i class="fas fa-unlock"></i> Verifikasi & Download
        </button>
        
        <a href="#" class="download-link" id="downloadLink" style="display: none;">
          <i class="fas fa-download"></i> Download Update Bot
        </a>
      </div>
    </div>
    
    <div class="tab-content" id="admin-tab">
      <div class="box" id="adminLoginForm">
        <h2 style="margin-bottom: 20px; text-align: center;"><i class="fas fa-lock"></i> Admin Login</h2>
        
        <div class="input-group">
          <label for="adminUsername">Username</label>
          <input type="text" id="adminUsername" class="input-field" placeholder="Masukkan username admin">
        </div>
        
        <div class="input-group">
          <label for="adminPassword">Password</label>
          <input type="password" id="adminPassword" class="input-field" placeholder="Masukkan password admin">
        </div>
        
        <button class="btn" onclick="adminLogin()">
          <i class="fas fa-sign-in-alt"></i> Login sebagai Admin
        </button>
      </div>
      
      <div class="admin-only" id="adminPanel">
        <div class="box">
          <h2 style="margin-bottom: 20px; text-align: center;"><i class="fas fa-plus-circle"></i> Tambah API Key Baru</h2>
          
          <div class="input-group">
            <label for="newKeyName">Nama Pengguna</label>
            <input type="text" id="newKeyName" class="input-field" placeholder="Contoh: Key untuk Budi">
          </div>
          
          <button class="btn btn-success" onclick="generateApiKey()">
            <i class="fas fa-key"></i> Generate API Key Baru
          </button>
        </div>
        
        <div class="box">
          <h2 style="margin-bottom: 20px; text-align: center;"><i class="fas fa-list"></i> API Key Aktif</h2>
          
          <div class="api-keys-list" id="apiKeysList">
            <!-- Daftar API Key akan dimuat di sini -->
          </div>
        </div>
      </div>
    </div>
    
    <div class="footer">
      <p>©alipai | IP Anda: <span id="userIp">Loading...</span></p>
    </div>
  </div>
  
  <div class="notification" id="notification">
    <i class="fas fa-exclamation-circle"></i> <span id="notificationText"></span>
  </div>

  <script>
    // Informasi admin
    const adminCredentials = {
      username: "alipclutch",
      password: "clutch555"
    };
    
    // Simulasi database API Key
    let apiKeys = JSON.parse(localStorage.getItem('botAlipApiKeys')) || [];
    
    // Dapatkan IP pengguna (simulasi)
    let userIp = "192.168.1." + Math.floor(Math.random() * 100 + 1);
    document.getElementById('userIp').textContent = userIp;
    
    // Status login admin
    let isAdminLoggedIn = false;
    
    // Elemen UI
    const apiKeyInput = document.getElementById('apikey');
    const downloadLinkElement = document.getElementById('downloadLink');
    const notification = document.getElementById('notification');
    const notificationText = document.getElementById('notificationText');
    const apiKeysList = document.getElementById('apiKeysList');
    const tabs = document.querySelectorAll('.tab');
    const tabContents = document.querySelectorAll('.tab-content');
    const adminLoginForm = document.getElementById('adminLoginForm');
    const adminPanel = document.getElementById('adminPanel');
    const bgAnimation = document.getElementById('bg-animation');
    
    // Inisialisasi
    document.addEventListener('DOMContentLoaded', function() {
      createBackgroundAnimation();
      loadApiKeys();
      setupTabs();
      
      // Cek jika admin sudah login
      checkAdminStatus();
    });
    
    // Setup tabs
    function setupTabs() {
      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          const tabId = tab.getAttribute('data-tab');
          
          // Deactivate all tabs
          tabs.forEach(t => t.classList.remove('active'));
          tabContents.forEach(tc => tc.classList.remove('active'));
          
          // Activate current tab
          tab.classList.add('active');
          document.getElementById(`${tabId}-tab`).classList.add('active');
        });
      });
    }
    
    // Create background animation
    function createBackgroundAnimation() {
      for (let i = 0; i < 20; i++) {
        const span = document.createElement('span');
        const size = Math.random() * 30 + 10;
        const posX = Math.random() * 100;
        const duration = Math.random() * 10 + 10;
        const delay = Math.random() * 5;
        
        span.style.width = `${size}px`;
        span.style.height = `${size}px`;
        span.style.left = `${posX}%`;
        span.style.animationDuration = `${duration}s`;
        span.style.animationDelay = `${delay}s`;
        
        bgAnimation.appendChild(span);
      }
    }
    
    // Show notification
    function showNotification(message, isError = true) {
      notificationText.textContent = message;
      notification.className = isError ? 'notification' : 'notification success';
      notification.classList.add('show');
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    }
    
    // Cek status admin
    function checkAdminStatus() {
      const adminStatus = localStorage.getItem('botAlipAdminLoggedIn');
      if (adminStatus === 'true') {
        isAdminLoggedIn = true;
        adminLoginForm.style.display = 'none';
        adminPanel.classList.add('visible');
      }
    }
    
    // Login admin
    function adminLogin() {
      const username = document.getElementById('adminUsername').value.trim();
      const password = document.getElementById('adminPassword').value;
      
      if (!username || !password) {
        showNotification("❌ Harap isi username dan password!");
        return;
      }
      
      if (username === adminCredentials.username && password === adminCredentials.password) {
        isAdminLoggedIn = true;
        localStorage.setItem('botAlipAdminLoggedIn', 'true');
        
        adminLoginForm.style.display = 'none';
        adminPanel.classList.add('visible');
        
        showNotification("✅ Login admin berhasil!", false);
      } else {
        showNotification("❌ Username atau password salah!");
      }
    }
    
    // Generate API Key baru (hanya admin)
    function generateApiKey() {
      if (!isAdminLoggedIn) {
        showNotification("❌ Hanya admin yang dapat menambahkan API Key!");
        return;
      }
      
      const keyName = document.getElementById('newKeyName').value.trim();
      
      if (!keyName) {
        showNotification("❌ Harap beri nama untuk API Key!");
        return;
      }
      
      // Generate random API Key
      const newKey = 'alip_' + Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
      
      // Simpan key dengan IP pengguna
      apiKeys.push({
        key: newKey,
        name: keyName,
        ip: userIp,
        createdAt: new Date().toLocaleDateString('id-ID')
      });
      
      // Simpan ke localStorage
      localStorage.setItem('botAlipApiKeys', JSON.stringify(apiKeys));
      
      // Reload daftar key
      loadApiKeys();
      
      // Reset form
      document.getElementById('newKeyName').value = '';
      
      showNotification("✅ API Key berhasil dibuat! Salin dan simpan di tempat aman.", false);
    }
    
    // Load API Keys ke dalam list
    function loadApiKeys() {
      apiKeysList.innerHTML = '';
      
      if (apiKeys.length === 0) {
        apiKeysList.innerHTML = '<div class="api-key-item"><div class="key-info">Belum ada API Key</div></div>';
        return;
      }
      
      // Filter key berdasarkan IP admin
      const adminApiKeys = apiKeys.filter(k => k.ip === userIp);
      
      if (adminApiKeys.length === 0) {
        apiKeysList.innerHTML = '<div class="api-key-item"><div class="key-info">Belum ada API Key</div></div>';
        return;
      }
      
      adminApiKeys.forEach((keyData, index) => {
        const keyItem = document.createElement('div');
        keyItem.className = 'api-key-item';
        
        keyItem.innerHTML = `
          <div class="key-info">
            <div class="key-value">${keyData.key}</div>
            <div class="key-meta">${keyData.name} | Dibuat: ${keyData.createdAt}</div>
          </div>
          <div class="key-actions">
            <button class="key-btn" onclick="copyToClipboard('${keyData.key}')"><i class="fas fa-copy"></i></button>
            <button class="key-btn" style="background: var(--danger)" onclick="deleteApiKey(${index})"><i class="fas fa-trash"></i></button>
          </div>
        `;
        
        apiKeysList.appendChild(keyItem);
      });
    }
    
    // Salin key ke clipboard
    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => {
        showNotification("✅ API Key disalin ke clipboard!", false);
      }).catch(err => {
        showNotification("❌ Gagal menyalin API Key");
      });
    }
    
    // Hapus API Key (hanya admin)
    function deleteApiKey(index) {
      if (!isAdminLoggedIn) {
        showNotification("❌ Hanya admin yang dapat menghapus API Key!");
        return;
      }
      
      // Hanya hapus key milik IP admin
      const adminApiKeys = apiKeys.filter(k => k.ip === userIp);
      const keyToDelete = adminApiKeys[index];
      
      if (keyToDelete) {
        apiKeys = apiKeys.filter(k => k.key !== keyToDelete.key);
        localStorage.setItem('botAlipApiKeys', JSON.stringify(apiKeys));
        loadApiKeys();
        showNotification("✅ API Key berhasil dihapus!", false);
      }
    }
    
    // Cek API Key untuk download
    function cekApiKey() {
      let key = apiKeyInput.value.trim();
      
      if (key === "") {
        showNotification("❌ Harap masukkan API Key!");
        return;
      }
      
      // Cek apakah key valid dan sesuai dengan IP
      const validKey = apiKeys.find(k => k.key === key && k.ip === userIp);
      
      if (validKey) {
        // Set link download
        downloadLinkElement.href = "https://github.com/alifalfrl/alipaiv4/archive/refs/heads/main.zip";
        downloadLinkElement.style.display = "block";
        
        showNotification("✅ API Key valid! Download tersedia.", false);
      } else {
        showNotification("❌ API Key tidak valid atau tidak sesuai dengan IP Anda!");
        
        // Shake animation for invalid input
        apiKeyInput.style.borderColor = 'var(--danger)';
        setTimeout(() => {
          apiKeyInput.style.borderColor = 'rgba(108, 92, 231, 0.3)';
        }, 1000);
      }
    }
    
    // Allow Enter key to submit
    apiKeyInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        cekApiKey();
      }
    });
  </script>
</body>
</html>